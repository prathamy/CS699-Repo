<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
	<script defer src="https://pyscript.net/alpha/pyscript.js"></script>


    <title>Flight Tracker</title>

    <py-env>
        - matplotlib
    </py-env>

    </style>
</head>
<body>
<div id="main">
    <h1>Flight Tracker Demo</h1>

    <form method="GET">
        <div>

                <select name="from" id="from">
                  <option value="BOM-Mumbai">MUMBAI</option>
                  <option value="DEL-Delhi">DELHI</option>
                  <option value="CCU-Kolkata">KOLKATA</option>
                  <option value="BLR-Bengaluru">BANGLORE</option>
                  <option value="MAA-Chennai">CHENNAI</option>
                  <option value="PNQ-Pune">PUNE</option>
                  <option value="LKO-Lucknow">LUCKNOW</option>
                </select>


                <select name="to" id="to">
                    <option value="BOM-Mumbai">MUMBAI</option>
                    <option value="DEL-Delhi">DELHI</option>
                    <option value="CCU-Kolkata">KOLKATA</option>
                    <option value="BLR-Bengaluru">BANGLORE</option>
                    <option value="MAA-Chennai">CHENNAI</option>
                    <option value="PNQ-Pune">PUNE</option>
                    <option value="LKO-Lucknow">LUCKNOW</option>
                  </select>



                  <select name="date" id="date">
                    <option value="01">1</option>
                    <option value="02">2</option>
                    <option value="03">3</option>
                    <option value="04">4</option>
                    <option value="05">5</option>
                    <option value="06">6</option>
                    <option value="07">7</option>
                    <option value="08">8</option>
                    <option value="09">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29</option>
                    <option value="30">30</option>
                    <option value="31">31</option>
                  </select>


                  <select name="month" id="month">
                    <option value="01">January</option>
                    <option value="02">February</option>
                    <option value="03">March</option>
                    <option value="04">April</option>
                    <option value="05">May</option>
                    <option value="06">June</option>
                    <option value="07">July</option>
                    <option value="08">August</option>
                    <option value="09">September</option>
                    <option value="10">October</option>
                    <option value="11">November</option>
                    <option value="12">December</option>
                  </select>


                   <select name="year" id="year">
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                  </select>

            <input type="text" id="city" value="{{ request.GET.city }}"  name="city"/>


        </div>
        <input type="submit" value="Submit"/>
    </form>

    {% if result %}
        <h3 id= "san">{{ result.paytm }}</h3>
        <h3>{{ result.flipkart }}</h3>
        <h3>{{ result.easemy }}</h3>

        <py-script>
          
            from js import console

            text=document.getElementById("san").innerHTML
            print(text)
            
            
            text=document.getElementById

            import matplotlib.pyplot as plt
    
            fig, ax = plt.subplots()
            
            year_1 = [2016, 2017, 2018, 2019, 2020, 2021]
            population_1 = [42, 43, 45, 47, 48, 50]
            
            year_2 = [2016, 2017, 2018, 2019, 2020, 2021]
            population_2 = [43, 43, 44, 44, 45, 45]
            
            plt.plot(year_1, population_1, marker='o', linestyle='--', color='g', label='Country 1')
            plt.plot(year_2, population_2,  marker='d', linestyle='-', color='r', label='Country 2')
            
            plt.xlabel('Year')
            plt.ylabel('Population (M)')
            plt.title('Year vs Population')
            plt.legend(loc='lower right')
            
            fig

        </py-script>
        {% comment %} <h3>{{ result.weather_now }}</h3> {% endcomment %}
    {% endif %}     

   

</div>
</body>
</html>